# GPS Приложение с расширенным функционалом

## Описание проекта

Данный проект представляет собой систему сбора, передачи, хранения и визуализации данных о местоположении мобильного устройства и качестве LTE-сигнала. Система состоит из:

- **Android-приложения** на Kotlin
- **Серверной части** на Python с использованием ZeroMQ
- **Базы данных** PostgreSQL
- **Визуализации данных** на графике

Проект позволяет анализировать качество мобильной связи (RSRP, RSRQ, RSSI и др.) в зависимости от географического положения.

## Android-приложение

### Основные функции:

**Получение GPS-координат:**
- Широта (latitude)
- Долгота (longitude)
- Высота (altitude)
- Скорость (speed)
- Точность (accuracy)

**Получение информации о LTE-сети:**
- MCC (Mobile Country Code)
- MNC (Mobile Network Code)
- PCI (Physical Cell ID)
- TAC (Tracking Area Code)
- EARFCN (E-UTRA Absolute Radio Frequency Channel Number)
- RSSI (Received Signal Strength Indicator)
- RSRP (Reference Signal Received Power)
- RSRQ (Reference Signal Received Quality)
- CQI (Channel Quality Indicator)

### Дополнительный функционал:
- Отображение текущих данных на экране
- Автоматическое обновление данных с заданным временным интервалом
- Передача данных на сервер
- Автоматическая повторная отправка данных при восстановлении соединения

## Сервер (Python + ZeroMQ)

Сервер принимает данные от Android-клиента и сохраняет их в базу данных.

### Реализовано:
- Приём сообщений по ZeroMQ (протокол REQ/REP)
- Парсинг JSON-данных от клиента
- Запись данных в базу данных PostgreSQL
- Отправка подтверждения клиенту после успешного сохранения
- Создание JSON-логов всех полученных данных
- Автоматическая визуализация данных на графике

## База данных PostgreSQL

В базе данных хранится следующая информация:

**Таблица `locations`:**
- Время измерения (timestamp)
- GPS-координаты (широта, долгота, высота)
- Скорость движения (speed)
- Точность позиционирования (accuracy)
- Время сервера (server_time)

**Таблица `cell_info_lte`:**
- MCC (код страны)
- MNC (код оператора)
- PCI (Physical Cell ID)
- RSRP (мощность принимаемого сигнала)
- RSRQ (качество принимаемого сигнала)
- RSSI (общая мощность сигнала)
- CQI (индикатор качества канала)

Данные используются для последующего анализа и визуализации качества сигнала.

## Визуализация данных на графике

### Реализованная функциональность:
- Загружает координаты и RSRP из PostgreSQL
- Строит карту точек покрытия LTE-сети
- Цвет точки соответствует уровню RSRP:
  - **Ярко-зеленый** (≥ -80 dBm) - Отличный сигнал
  - **Светло-зеленый** (-90 to -80) - Хороший сигнал
  - **Желтый** (-100 to -90) - Средний сигнал
  - **Оранжевый** (-110 to -100) - Плохой сигнал
  - **Красный** (< -110) - Очень плохой сигнал
- График обновляется автоматически после отключения клиента
- Используется цветовая шкала для оценки качества сигнала
- Результатом является график с точками качества LTE-сигнала (RSRP)

### Сохраняемые файлы:
- `plots/map_ЧЧММСС.png` - графики с временной меткой
- `plots/current_map.png` - актуальная карта покрытия
- `gps_logs/gps_ГГГГ-ММ-ДД.json` - ежедневные логи в JSON формате